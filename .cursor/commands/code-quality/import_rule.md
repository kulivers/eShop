# Import Cursor Rules

Автоматически анализирует проект, находит подходящие правила из `C:\Cursor-utils\Rules`, ищет правила в интернете, сохраняет найденные в `C:\Cursor-utils\uploaded-rules`, копирует все команды из `C:\Cursor-utils\commands` и импортирует правила в `.cursor/rules/`.

## Цель

Найти и импортировать релевантные Cursor правила на основе анализа текущего проекта (package.json, requirements.txt, файлы проекта) БЕЗ использования Python скриптов. Использовать структуру из README для быстрой навигации по категориям правил.

## Инструкции для AI

Ты должен выполнить следующие шаги самостоятельно:

### Шаг 0: Изучение структуры через README

1. **Прочитай главный README для навигации:**
   - Прочитай файл `C:\Cursor-utils\README.md` для понимания общей структуры
   - Прочитай файл `C:\Cursor-utils\rules\README.md` для понимания структуры категорий правил
   - Прочитай файл `C:\Cursor-utils\commands\README.md` для понимания структуры команд

2. **Используй README для быстрой навигации:**
   - README содержит полный список категорий и их содержимое
   - Используй эту информацию для определения релевантных категорий БЕЗ необходимости просматривать все папки
   - Сопоставь обнаруженные технологии проекта с категориями из README

### Шаг 1: Анализ проекта

1. **Проверь package.json (если есть):**
   - Прочитай файл `package.json`
   - Извлеки зависимости из `dependencies` и `devDependencies`
   - Определи используемые библиотеки и фреймворки (например: react, next, vue, typescript, jest, etc.)

2. **Проверь requirements.txt (если есть):**
   - Прочитай файл `requirements.txt`
   - Извлеки названия Python библиотек (например: django, flask, fastapi, pytest, pandas, etc.)

3. **Проверь .csproj файлы (если есть):**
   - Прочитай файлы `.csproj` для .NET проектов
   - Извлеки используемые пакеты NuGet
   - Определи фреймворки (например: ASP.NET Core, Entity Framework, etc.)

4. **Проанализируй структуру файлов:**
   - Определи расширения файлов в проекте (`.js`, `.jsx`, `.ts`, `.tsx`, `.py`, `.cs`, `.vue`, etc.)
   - Проверь наличие специфичных файлов (например: `next.config.js`, `manage.py`, `app.py`, `Startup.cs`, etc.)

### Шаг 2: Определение релевантных категорий через README

1. **Используй README для определения категорий:**
   - На основе анализа проекта (Шаг 1) определи релевантные категории из `C:\Cursor-utils\rules\README.md`
   - Например:
     - .NET проект → `dotnet/`, `backend/`, `database/`, `testing/`
     - React проект → `frontend/`, `ui-frameworks/`, `state-management/`, `build-tools/`
     - Python проект → `python/`, `backend/`, `database/`, `testing/`

2. **Найди директорию с правилами:**
   - Базовый путь: `C:\Cursor-utils\Rules`
   - Если директория не найдена, сообщи пользователю

### Шаг 3: Поиск подходящих правил в релевантных категориях

1. **Просмотри правила только в релевантных категориях:**
   - Вместо просмотра всех правил, иди напрямую в категории, определенные через README
   - Для каждой релевантной категории:
     - Получи список всех `.mdc` файлов в этой категории
     - Для каждого правила прочитай метаданные (первые строки с `---`):
       - `description` - описание правила
       - `globs` - паттерны файлов, к которым применяется правило

2. **Найди подходящие правила:**
   - Сопоставь обнаруженные библиотеки с названиями правил
   - Проверь описания правил на упоминание обнаруженных библиотек
   - Проверь glob паттерны правил на соответствие расширениям файлов проекта
   - Выбери топ-10 наиболее релевантных правил

### Шаг 4: Поиск правил в интернете (опционально)

1. **Используй веб-поиск для поиска дополнительных правил:**
   - Ищи правила Cursor для обнаруженных библиотек и фреймворков, которых нет в локальной папке
   - Ищи в репозиториях GitHub, документации и других источниках
   - Используй поисковые запросы типа: "cursor rules [название библиотеки]", "cursor.mdc [название библиотеки]"

2. **Сохрани найденные правила:**
   - Создай директорию `C:\Cursor-utils\uploaded-rules` (если не существует)
   - Для каждого найденного правила в интернете:
     - Проверь, не существует ли уже такое правило в `C:\Cursor-utils\uploaded-rules`
     - Если не существует, сохрани найденное правило в `C:\Cursor-utils\uploaded-rules`
     - Используй понятное имя файла на основе названия библиотеки/фреймворка

3. **Проанализируй найденные правила:**
   - Прочитай метаданные найденных правил
   - Определи их релевантность для текущего проекта
   - Добавь подходящие правила к списку для импорта

### Шаг 5: Копирование команд (опционально)

1. **Используй README для определения релевантных команд:**
   - Прочитай `C:\Cursor-utils\commands\README.md` для понимания структуры команд
   - Определи релевантные категории команд на основе типа проекта

2. **Скопируй релевантные команды из `C:\Cursor-utils\commands`:**
   - Используй структуру из README для быстрого поиска нужных категорий
   - Получи список `.md` файлов в релевантных категориях команд
   - Скопируй файлы команд в целевую директорию `.cursor/commands/` (если требуется)
   - Сохрани информацию о скопированных командах для отчета

### Шаг 6: Импорт правил

1. **Создай директорию `.cursor/rules/`** (если не существует)

2. **Для каждого найденного правила из релевантных категорий `C:\Cursor-utils\Rules`:**
   - Проверь, не существует ли уже такое правило в `.cursor/rules/`
   - Если не существует, скопируй файл из соответствующей категории в `.cursor/rules/`
   - Сохрани структуру категорий (создай подпапки, если нужно)
   - Если существует, пропусти его

3. **Для каждого найденного правила из `C:\Cursor-utils\uploaded-rules` (если есть):**
   - Проверь, не существует ли уже такое правило в `.cursor/rules/`
   - Если не существует, скопируй файл из `C:\Cursor-utils\uploaded-rules` в `.cursor/rules/`
   - Если существует, пропусти его

4. **Покажи результаты:**
   - Выведи список обнаруженных библиотек и технологий
   - Покажи список определенных релевантных категорий (из README)
   - Покажи список найденных правил с их описаниями и категориями
   - Сообщи о количестве импортированных правил
   - Сообщи о количестве скопированных команд (если применимо)

## Примеры сопоставления через README

### React проект:
- **Анализ проекта:** Обнаруживает `react`, `typescript` в package.json
- **Использование README:** Определяет категории `frontend/`, `ui-frameworks/`, `state-management/`, `build-tools/`
- **Поиск в категориях:** Находит правила в `frontend/react.mdc`, `frontend/typescript.mdc`, `testing/jest.mdc` (если jest используется)

### Python проект:
- **Анализ проекта:** Обнаруживает `django` или `fastapi` в requirements.txt
- **Использование README:** Определяет категории `python/`, `backend/`, `database/`, `testing/`
- **Поиск в категориях:** Находит правила в `python/python.mdc`, `backend/django.mdc` или `backend/fastapi.mdc`, `testing/pytest.mdc`

### Next.js проект:
- **Анализ проекта:** Обнаруживает `next`, `react` в package.json
- **Использование README:** Определяет категории `frontend/`, `ui-frameworks/`, `build-tools/`
- **Поиск в категориях:** Находит правила в `frontend/next-js.mdc`, `frontend/react.mdc`, `frontend/typescript.mdc`

### .NET проект:
- **Анализ проекта:** Обнаруживает `.csproj` файлы, ASP.NET Core в структуре
- **Использование README:** Определяет категории `dotnet/`, `backend/`, `database/`, `testing/`
- **Поиск в категориях:** Находит правила в `dotnet/asp-net.mdc`, `dotnet/c-sharp.mdc`, `database/postgresql.mdc` (если используется)

## Формат MDC файла

MDC файлы имеют следующий формат в начале:

```
---
description: Описание правила
globs: *.js,*.jsx,*.ts,*.tsx
---
```

Используй эти метаданные для определения релевантности правил.

## Важные замечания

- **ВСЕГДА начинай с чтения README файлов** для понимания структуры перед поиском правил
- Используй README для быстрой навигации - не просматривай все папки, а иди напрямую в релевантные категории
- Ищи правила ТОЛЬКО в папке `C:\Cursor-utils\Rules`, используя структуру из `C:\Cursor-utils\rules\README.md`
- Не перезаписывай существующие правила в `.cursor/rules/`
- Выбирай правила на основе релевантности (название библиотеки, описание, glob паттерны)
- Максимум 10 правил для импорта из локальной папки (чтобы не перегрузить контекст)
- Если правило уже существует, пропускай его
- При поиске правил в интернете сохраняй их в `C:\Cursor-utils\uploaded-rules`
- Используй `C:\Cursor-utils\commands\README.md` для определения релевантных команд вместо копирования всех команд
- Сохраняй структуру категорий при импорте (создавай подпапки в `.cursor/rules/`, если нужно)

## Ожидаемый результат

- Список обнаруженных библиотек и технологий в проекте
- Список определенных релевантных категорий (на основе README)
- Топ-10 наиболее релевантных правил с их описаниями, паттернами и категориями (из `C:\Cursor-utils\Rules`)
- Найденные правила в интернете, сохраненные в `C:\Cursor-utils\uploaded-rules` (если применимо)
- Импортированные правила в `.cursor/rules/` (из релевантных категорий `C:\Cursor-utils\Rules` и `C:\Cursor-utils\uploaded-rules`)
- Скопированные релевантные команды из `C:\Cursor-utils\commands` (если применимо)
- Сообщение об успешном импорте с количеством правил и команд
